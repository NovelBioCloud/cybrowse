### 程序设计思路
#### 思路1
面向对象的设计思路中，对象是具有不同状态的，不同状态对应不同的方法（api=ispi+iapi），不同的方法会触发不同的事件(event)，每一个事件对应的应该是一个完整的业务功能（iapi/ispi)，而业务功能中的方法(infraService)则可以是非完整的。非完整的功能方法可以抽象为一个内部的基础设施对象(xxxInfraService)，辅助类对象，该对象根据类的状态变化而变化，可以是one2one，也可以是one2many。
对象创建后是初始状态，对象内部的状态修改通过实例方法修改，对象与对象的交互通过事件触发，事件触发后执行的是一个业务方法，业务方法可以放到infra辅助类中，也可以放到实例中，放到实例中的时候需要注意，实例业务方法承担了俩个功能，外部接口的调用和内部业务方法的支撑。业务方法分俩类，ispi业务方法，iapi实例业务方法，ispi业务方法是主要完成类对象的相互组合，绑定事件展示视图，iapi业务方法是指完成某个功能；iapi和ispi的部分方法会被提取为api方法，为iapi和ispi提供服务的的方法类成为 xxxInfraService 。我们需要关注的是iapi和ispi和最外层类的接口。
#### 思路2
按照类的作用划分，可分为内模式类，模式类和外模式类；内模式类，具备计算特性和控制特性，控制特性对外提供接口，模式类具备计算特性和控制特性，计算特性通过对应的内模式类完成，控制特性通过内部实现控制，外模式类具备计算特性和控制特性，通过对应的模式类完成。
#### 思路3
对思路1和思路2进行整理，外模式类具备api，模式类具备spi和iapi，event（模式类可以分层，分别实现不同的功能），内模式类具备iapi，ispi，iapi和ispi通过infra类实现infra类是对其他依赖的外模式类的简单封装。
对上面的内容分析，发现外模式只提供api，内模式只提供pure-spi的封装（普通意义的spi），模式类分层，每一层完成自己的功能
#### 思路4
外模式类只具备方法/发布事件和回调函数/监听事件,模式类具有不同的状态，模式类1层，切换各种状态，每个状态都匹配不同状态的实现，模式类2层，监听事件和发布事件接口，模式类3层，核心业务功能，组合各种第三方类、内模式类完成，内模式类调用第三方类和完成辅助功能
